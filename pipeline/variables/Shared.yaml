parameters:
  - name: environment
    type: object
  - name: service
    type: object

variables: 
  - group: HMI-APIM-Common
  - name: planOutputName
    value: '${{ variables.serviceName }}_${{ parameters.environment.name }}'
  - name: storageAccount
    value: '${{ variables.serviceResourcePrefix }}infra${{ parameters.environment.name }}sa'
  - name: resourceGroupName
    value: 'hmi-${{ variables.serviceResourceGroupName }}-${{ parameters.environment.name }}-rg'
  - name: containerName
    value: '${{ variables.serviceResourcePrefix }}terraform'
  - name: terraformVersion
    value: ${{ variables.serviceTerraformVersion }}
  - template: ../../environments/${{ parameters.environment.name }}.yaml
  - group: HMI-APIM-BUILD-${{ upper(parameters.environment.name) }}
  - name: builtFrom
    value: hmcts/hmi-shared-infrastructure
  - name: product
    value: hmi
  - name: businessArea
    value: 'cross-cutting'
  - name: builtFrom
    value: $(Build.Repository.Name)
  - name: application
    value: 'hearing-management-interface'
  - name: serviceName
    value: 'SharedInfra'
  - name: serviceDisplayName
    value: 'Shared Infrastructure'
  - name: serviceResourceGroupName
    value: 'sharedinfra'
  - name:  serviceResourcePrefix
    value: 'hmiapim'
  - name: serviceTerraformVersion
    value: '1.0.4'